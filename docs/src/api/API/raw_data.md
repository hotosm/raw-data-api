Module API.raw_data
===================
[Router Responsible for Raw data API ]

Variables
---------

```python3
export_rate_limit
```

```python3
router
```

Functions
---------

    
#### check_database_last_updated

```python3
def check_database_last_updated(
    
)
```
Gives status about how recent the osm data is , it will give the last time that database was updated completely

    
#### get_current_snapshot_as_plain_geojson

```python3
def get_current_snapshot_as_plain_geojson(
    request: starlette.requests.Request,
    params: src.validation.models.SnapshotParamsPlain = Body({})
)
```
Simple API to get osm features as geojson for small region. This is designed only for querying small data for large data follow /snapshot/

Params ::

    bbox: Optional List = takes xmin, ymin, xmax, ymax uses srid=4326
    select: List = this is select query  you can pass [*] to select all attribute
    where: List[WhereCondition] = [{'key': 'building', 'value': ['*']},{'key':'amenity','value':['school','college']}]
    join_by: Optional[JoinFilterType] = or/ and
    look_in: Optional[List[OsmFeatureType]] = ["nodes", "ways_poly","ways_line","relations"] : tables name

    
#### get_osm_current_snapshot_as_file

```python3
def get_osm_current_snapshot_as_file(
    request: starlette.requests.Request,
    params: src.validation.models.RawDataCurrentParams = Body({})
)
```
Generates the current raw OpenStreetMap data available on database based on the input geometry, query and spatial features.

Steps to Run Snapshot :

1.  Post the your request here and your request will be on queue, endpoint will return as following :
    {
        "task_id": "your task_id",
        "track_link": "/tasks/task_id/"
    }
2. Now navigate to /tasks/ with your task id to track progress and result

    
#### remove_file

```python3
def remove_file(
    path: str
) -> None
```
Used for removing temp file dir and its all content after zip file is delivered to user

    
#### watch_s3_upload

```python3
def watch_s3_upload(
    url: str,
    path: str
) -> None
```
Watches upload of s3 either it is completed or not and removes the temp file after completion

Args:
    url (_type_): url generated by the script where data will be available
    path (_type_): path where temp file is located at